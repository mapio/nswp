<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<title>Not-so-weak passwords</title>
	<script type="text/javascript" src="sha1.js"></script>
	<script type="text/javascript">
		var form;
		function onload() {
			form = document.forms.password;
		}
		function set() {
			localStorage.setItem( "secret", form.secret.value );
			form.secret.type = 'password';
		}
		function get() {
			form.secret.value = localStorage.getItem( "secret" );
			form.secret.type = 'text';
		}
		function select() {
			form.password.focus();
			form.password.select();
		}
		function generate() {
			form.password.value = Sha1.hash( localStorage.getItem( "secret" ) + form.url.value ).substring( 1, 16 );
			select();
		}
	</script>
</head>
<body onload="onload()">
	<form action="#" method="post" name="password">
		<input type="password" name="secret" id="secret" size="32" placeholder="Secret">  <input type="button" value="&darr;" onclick="set()"> <input type="button" value="&uarr;" onclick="get()"><br />
		<input type="url" name="url" id="url" size="32" placeholder="URL" onchange="generate()" autofocus autocapitalize="off">  <input type="button" value="&rarr;" onclick="generate()"><br />
		<input type="text" name="password" id="password" size="32" onclick="select()"><br />
	</form>
</body>
</html>
<!--
 Copyright 2011, Massimo Santini <santini@dsi.unimi.it>
 
 This file is part of "Not So Weak Passwords".
 
 "Not So Weak Passwords" is free software: you can redistribute it and/or modify it
 under the terms of the GNU General Public License as published by the Free
 Software Foundation, either version 3 of the License, or (at your option) any
 later version.
 
 "Not So Weak Passwords" is distributed in the hope that it will be useful, but
 WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more
 details.
 
 You should have received a copy of the GNU General Public License along with
 "Not So Weak Passwords". If not, see <http://www.gnu.org/licenses/>.
-->
